extends pug/base

block head
    title Блог
block content
    .maincontent
        .section.blog
            h1.visually-hidden Блог. Статьи, которые я написала      
            header.header
                .header__socials
                    include pug/socials.pug
                button.btn.header__menu(type="button")
                    .hamburger-menu#hamburger-menu
                        .hamburger-menu__bars
                .section__backing
                    svg.svg
                        use(xlink:href="img/sprite.svg#blog_header") 
                .photo
                    img.img(src="img/me.jpg" alt="Леонидова Екатерина")
                h2.section__title Блог
                p.header__text Статьи, которые я написала  
                button.btn.arrow.header__arrow(type="button")
                    svg.svg(width="26" height="16")
                        use(xlink:href="img/sprite.svg#arrow_down")       
            main.blog__main
                .triangles.triangles--sameColor
                    svg(xmlns="http://www.w3.org/2000/svg" viewbox="0 0 1000 85" preserveaspectratio="none" class="traingle")
                        polygon(class="triangle__left" points="0,0   0,86   500.8,86   500.8,75.5")
                        polygon(class="triangle__right" points="1000,0   1000,86   500,86   500,75.5") 
                .contents.blog__contents#contents
                    aside.names.contents__left
                        names-list(:posts="posts"  :cid="currentId")
                    section.contents__right
                        article-list(:posts="posts" v-on:change-id="currentIdChange")
            include pug/footer.pug
        .fullscreen
            +nav(1)
        script(type="text/x-template",id="names-list")
            ul.names__list
                li.names__item(v-for= "post in posts")
                    a(v-if="post.id == cid" class="names__link names__link--active") {{post.title}}
                    a(v-else class="names__link") {{post.title}}
        script(type="text/x-template",id="article-item")
            article.article(v-on:scroll.native="activate")
                h2.article__title {{post.title}}
                time.article__date(:datetime="post.datetime")  {{post.date}}
                p {{post.text}}
        script(type="text/x-template",id="article-list")
            .contents__articles
                article-item.contents__article(v-for= "post in posts"  :post="post" v-on:message="handleMessage")
                    
block script
    script(src='js/blog.bundle.js')
